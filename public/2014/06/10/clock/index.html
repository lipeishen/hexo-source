<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    
    <title>clock | Leeps</title>
    <meta name="author" content="李培申">
    
    <meta name="description" content="12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576&amp;lt;!DO">
    
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <meta property="og:title" content="clock"/>
    <meta property="og:site_name" content="Leeps"/>

    <link rel="alternate" href="/atom.xml" title="Leeps" type="application/atom+xml">
    <link rel="stylesheet" href="/css/lib/font-awesome.css" type="text/css">
    <link rel="stylesheet" href="/css/lib/normalize.css" type="text/css">
    <link rel="stylesheet" href="/css/lib/furatto.css" type="text/css">
    <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

    
        <link rel="stylesheet" href="/css/lib/prettify_raytaylorism.css" type="text/css">
        
    
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    <script src="/js/jquery-1.10.2.min.js"></script>
    <script src="/js/jquery.jpanelmenu.js"></script>
</head>


<body class="container-fluid">
    <header id="page-header">
        <div class="navbar inverse-navbar">
    <div class="navbar-inner">
        <div class="container-center">
            <a href="/index.html" class="menu-trigger" data-meteocon="M">
                <i class="icon-reorder"></i>
            </a>
            <div class="nav-collapse navbar-responsive-collapse collapse">
                <nav id="menu">
                    <ul class="nav">
                        <li><a class="brand" id="blog-title" href="/index.html">Leeps</a></li>
                    </ul>
                    <div class="pull-right nav" id="nav-button-group">
                        
                            <a href="/" class="menu-home btn btn-primary btn-large">
                                <i class="icon-home icon-white"></i>
                                首页
                            </a>
                        
                            <a href="/archives" class="menu-archive btn btn-primary btn-large">
                                <i class="icon-archive icon-white"></i>
                                归档
                            </a>
                        
                            <a href="javascript:void(0);" class="menu-category btn btn-primary btn-large">
                                <i class="icon-archive icon-white"></i>
                                分类
                            </a>
                        
                            <a href="/reading" class="menu-reading btn btn-primary btn-large">
                                <i class="icon-book icon-white"></i>
                                读书
                            </a>
                        
                            <a href="/about" class="menu-about btn btn-primary btn-large">
                                <i class="icon-user icon-white"></i>
                                关于
                            </a>
                        
                    </div>
                </nav>
                <nav id="jPanelMenu-menu-side">
    <ul class="nav main-menu">
        <li><a class="brand" href="index.html">Leeps</a></li>
        
            <li>
                <a href="/" class="menu-home">
                    <i class="icon-home icon-white"></i>
                    首页
                </a>
            </li>
        
            <li>
                <a href="/archives" class="menu-archive">
                    <i class="icon-archive icon-white"></i>
                    归档
                </a>
            </li>
        
            <li>
                <a href="javascript:void(0);" class="menu-category">
                    <i class="icon-archive icon-white"></i>
                    分类
                </a>
            </li>
        
            <li>
                <a href="/reading" class="menu-reading">
                    <i class="icon-book icon-white"></i>
                    读书
                </a>
            </li>
        
            <li>
                <a href="/about" class="menu-about">
                    <i class="icon-user icon-white"></i>
                    关于
                </a>
            </li>
        
    </ul>

    <ul class="nav category-menu hide">
        <li>
            <span><a class="brand" href="javascript:void(0);">分类目录</a></span>
            <span><a class="btn-back brand pull-right" href="javascript:void(0);">
                <i class="icon-arrow-left"></i>
            </a></span>
        </li>

        

        

            

            <li collapse-level="0">
                <a href="/categories/技术/" class="collapse-level-0">
                    <i class="icon-caret-right"></i>
                    技术(5)
                </a>
            </li>

            

            

        

            <li collapse-level="0">
                <a href="/categories/R-Language/" class="collapse-level-0">
                    <i class="icon-caret-right"></i>
                    R-Language(2)
                </a>
            </li>

            

            

        

            <li collapse-level="0">
                <a href="/categories/Android/" class="collapse-level-0">
                    <i class="icon-caret-right"></i>
                    Android(1)
                </a>
            </li>

            

            

        

            <li collapse-level="0">
                <a href="/categories/GitHub/" class="collapse-level-0">
                    <i class="icon-caret-right"></i>
                    GitHub(1)
                </a>
            </li>

            

            

        

            <li collapse-level="0">
                <a href="/categories/Java/" class="collapse-level-0">
                    <i class="icon-caret-right"></i>
                    Java(8)
                </a>
            </li>

            

            

        

            <li collapse-level="0">
                <a href="/categories/hexo/" class="collapse-level-0">
                    <i class="icon-caret-right"></i>
                    hexo(2)
                </a>
            </li>

            

            

        

            <li collapse-level="0">
                <a href="/categories/计算机技术知识/" class="collapse-level-0">
                    <i class="icon-caret-right"></i>
                    计算机技术知识(1)
                </a>
            </li>

            

            

        

            <li collapse-level="0">
                <a href="/categories/Node-js/" class="collapse-level-0">
                    <i class="icon-caret-right"></i>
                    Node-js(2)
                </a>
            </li>

            

            

        

            <li collapse-level="0">
                <a href="/categories/Express/" class="collapse-level-0">
                    <i class="icon-caret-right"></i>
                    Express(1)
                </a>
            </li>

            

            

        

        
    </ul>
</nav>
            </div>
        </div>
    </div>
</div>

    </header>
    <div id="content-wrapper">
        <div class="container-center">
        <article class="post">
    <div class="article-title article-title-big">
        
    
        <h1>clock</h1>
    

    </div>

    <div class="date-row ">
        <time datetime="2014-06-10T10:30:06.000Z">2014-06-10</time>
    </div>

    <div class="entry">
        <a id="more"></a>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;HTML5环形时钟&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">    .myCanvas &#123;</span><br><span class="line">        position: absolute;</span><br><span class="line">        left: 50%;</span><br><span class="line">        top: 50%;</span><br><span class="line">        margin-left: -255px;</span><br><span class="line">        margin-top: -255px;</span><br><span class="line">        border: 5px solid #0055aa;</span><br><span class="line">        font-weight:bold;</span><br><span class="line">        font-size:24px;</span><br><span class="line">     &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;canvas id=&quot;myCanvas&quot; class=&quot;myCanvas&quot; width=&quot;500px&quot; height=&quot;500px&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">function draw() &#123;</span><br><span class="line">    var can = document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">    var canvas = can.getContext(&quot;2d&quot;);</span><br><span class="line"></span><br><span class="line">    if (canvas) &#123;</span><br><span class="line">        canvas.fillStyle=&quot;#F00&quot;;</span><br><span class="line">        canvas.font=&quot;18px Calibri&quot;;</span><br><span class="line">        var time = new Date();</span><br><span class="line">        var i = time.getSeconds() * 6 - 90;</span><br><span class="line"></span><br><span class="line">        if (i == -90) &#123;</span><br><span class="line">            i = 270;</span><br><span class="line">        &#125;</span><br><span class="line">        canvas.clearRect(0, 0, 500, 500);</span><br><span class="line">        canvas.beginPath();</span><br><span class="line">        canvas.strokeStyle = &quot;#6AF&quot;;</span><br><span class="line">        canvas.fillText(time.getSeconds()+&quot;S&quot;,415,250);</span><br><span class="line">        canvas.lineWidth = 30;</span><br><span class="line">        canvas.arc(250, 250, 150, -90 * Math.PI / 180, i * Math.PI / 180, false);</span><br><span class="line">        canvas.stroke();</span><br><span class="line"></span><br><span class="line">        var j = time.getMinutes() * 6 - 90;</span><br><span class="line">        if (j == -90) &#123;</span><br><span class="line">            j = 270;</span><br><span class="line">        &#125;</span><br><span class="line">        canvas.beginPath();</span><br><span class="line">        canvas.strokeStyle = &quot;#5FB&quot;;</span><br><span class="line">        canvas.lineWidth = 30;</span><br><span class="line">        canvas.fillText(time.getMinutes()+&quot;M&quot;,355,250);</span><br><span class="line">        canvas.arc(250, 250, 90, -90 * Math.PI / 180, j * Math.PI / 180, false);</span><br><span class="line">        canvas.stroke();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        var k = (time.getHours() % 12) * 30 - 90;</span><br><span class="line">        if (k == -90) &#123;</span><br><span class="line">            k = 270;</span><br><span class="line">        &#125;</span><br><span class="line">        canvas.beginPath();</span><br><span class="line">        canvas.strokeStyle = &quot;#8F8&quot;;</span><br><span class="line">        canvas.lineWidth = 30;</span><br><span class="line">        canvas.fillText(time.getHours()+&quot;H&quot;,295,250);</span><br><span class="line">        canvas.arc(250, 250, 30, -90 * Math.PI / 180, k * Math.PI / 180, false);</span><br><span class="line">        canvas.stroke();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        console.log(&quot;this is Error&quot;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">setInterval(draw, 500);</span><br><span class="line">window.onload=draw;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;HTML CLOCK&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;canvas width=&quot;500&quot; height=&quot;500&quot; id=&quot;clock&quot;&gt;</span><br><span class="line">		你的浏览器不支持canvas标签，时针显示不出来哦！</span><br><span class="line">	&lt;/canvas&gt;</span><br><span class="line">	</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">	//画布背景颜色</span><br><span class="line">	var clockBackGroundColor = &quot;#ABCDEF&quot;;</span><br><span class="line">	//时针颜色</span><br><span class="line">	var hourPointColor = &quot;#000&quot;;</span><br><span class="line">	//时针粗细</span><br><span class="line">	var hourPointWidth = 7;</span><br><span class="line">	//时针长度</span><br><span class="line">	var hourPointLength = 100;</span><br><span class="line">	//分针颜色</span><br><span class="line">	var minPointColor = &quot;#000&quot;;</span><br><span class="line">	//分针粗细</span><br><span class="line">	var minPointWidth = 5;</span><br><span class="line">	//分针长度</span><br><span class="line">	var minPointLength = 150;</span><br><span class="line">	//秒针颜色</span><br><span class="line">	var secPointColor = &quot;#F00&quot;;</span><br><span class="line">	//秒针粗细</span><br><span class="line">	var secPointWidth = 3;</span><br><span class="line">	//秒针长度</span><br><span class="line">	var secPointLength = 170;</span><br><span class="line">	//表盘颜色</span><br><span class="line">	var clockPanelColor = &quot;#ABCDEF&quot;;</span><br><span class="line">	//表盘刻度颜色</span><br><span class="line">	var scaleColor = &quot;#000&quot;;</span><br><span class="line">	//表盘大刻度宽度 3 6 9 12</span><br><span class="line">	var scaleBigWidth = 9;</span><br><span class="line">	//表盘大刻度的长度</span><br><span class="line">	var scaleBigLength = 15;</span><br><span class="line">	//表盘小刻度的宽度</span><br><span class="line">	var scaleSmallWidth = 5;</span><br><span class="line">	//表盘小刻度的长度</span><br><span class="line">	var scaleSmallLength = 10;</span><br><span class="line">	//圆心颜色</span><br><span class="line">	var centerColor = &apos;red&apos;;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	//时钟画布</span><br><span class="line">	var clock = document.getElementById(&apos;clock&apos;);</span><br><span class="line">	clock.style.background = clockBackGroundColor;</span><br><span class="line">	//时针画布的作图环境（画板）</span><br><span class="line">	var panel = clock.getContext(&apos;2d&apos;);</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	//画线</span><br><span class="line">	/**</span><br><span class="line">	*画线段</span><br><span class="line">	*</span><br><span class="line">	*</span><br><span class="line">	*/</span><br><span class="line">	function drowLine(p,width,color,startX,startY,endX,endY,ran,cX,cY)&#123;</span><br><span class="line">		//保存传入的画板，相当于每次作画新开一个图层</span><br><span class="line">		p.save();</span><br><span class="line">		//设置画笔宽度</span><br><span class="line">		p.lineWidth = width;</span><br><span class="line">		//设置画笔颜色</span><br><span class="line">		p.strokeStyle = color;</span><br><span class="line">		//新开启作图路径，避免和之前画板上的内容产生干扰</span><br><span class="line">		p.beginPath();</span><br><span class="line">		p.translate(cX,cY);</span><br><span class="line">		//旋转</span><br><span class="line">		p.rotate(ran);</span><br><span class="line">		//移动画笔到开始位置</span><br><span class="line">		p.moveTo(startX,startY);</span><br><span class="line">		//移动画笔到结束位置</span><br><span class="line">		p.lineTo(endX,endY);</span><br><span class="line">		//画线操作</span><br><span class="line">		p.stroke();</span><br><span class="line">		//关闭作图路径，避免和之后在画板上绘制的内容产生干扰</span><br><span class="line">		p.closePath();</span><br><span class="line">		//在传入的画板对象上覆盖图层</span><br><span class="line">		p.restore();</span><br><span class="line">	&#125;</span><br><span class="line">	/**</span><br><span class="line">	*画水平线</span><br><span class="line">	*/</span><br><span class="line">	function drowHorizontalLine(p,width,length,color,startX,startY,ran,cX,cY)&#123;</span><br><span class="line">		drowLine(p,width,color,startX,startY,startX+length,startY,ran,cX,cY);</span><br><span class="line">	&#125; </span><br><span class="line">	/**</span><br><span class="line">	*画圈圈</span><br><span class="line">	*/</span><br><span class="line">	function drowCircle(p,width,color,centreX,centreY,r)&#123;</span><br><span class="line">		p.save();</span><br><span class="line">		//设置画笔宽度</span><br><span class="line">		p.lineWidth = width;</span><br><span class="line">		//设置画笔颜色</span><br><span class="line">		p.strokeStyle = color;</span><br><span class="line">		//新开启作图路径，避免和之前画板上的内容产生干扰</span><br><span class="line">		p.beginPath();</span><br><span class="line">		//画圈圈</span><br><span class="line">		p.arc(centreX,centreY,r,0,360,false);</span><br><span class="line">		//画线操作</span><br><span class="line">		p.stroke();</span><br><span class="line">		//关闭作图路径，避免和之后在画板上绘制的内容产生干扰</span><br><span class="line">		p.closePath();</span><br><span class="line">		//在传入的画板对象上覆盖图层</span><br><span class="line">		p.restore();</span><br><span class="line">	&#125;</span><br><span class="line">	function drowPoint(p,width,color,centreX,centreY,r)&#123;</span><br><span class="line">		p.save();</span><br><span class="line">		//设置画笔宽度</span><br><span class="line">		p.lineWidth = width;</span><br><span class="line">		//设置画笔颜色</span><br><span class="line">		p.fillStyle = color;</span><br><span class="line">		//新开启作图路径，避免和之前画板上的内容产生干扰</span><br><span class="line">		p.beginPath();</span><br><span class="line">		//画圈圈</span><br><span class="line">		p.arc(centreX,centreY,r,0,360,false);</span><br><span class="line">		//画线操作</span><br><span class="line">		p.fill();</span><br><span class="line">		//关闭作图路径，避免和之后在画板上绘制的内容产生干扰</span><br><span class="line">		p.closePath();</span><br><span class="line">		//在传入的画板对象上覆盖图层</span><br><span class="line">		p.restore();</span><br><span class="line">	&#125;</span><br><span class="line">	function drowScales(p)&#123;</span><br><span class="line">		//画小刻度</span><br><span class="line">		for(var i = 0;i &lt; 60;i++)&#123;</span><br><span class="line">			drowHorizontalLine(p,scaleSmallWidth,scaleSmallLength,scaleColor,195-scaleSmallLength,0,i*6*Math.PI/180,250,250);</span><br><span class="line">		&#125;</span><br><span class="line">		//画大刻度</span><br><span class="line">		for(var i = 0;i &lt; 12;i++)&#123;</span><br><span class="line">			drowHorizontalLine(p,i%3==0?scaleBigWidth*1.2:scaleBigWidth,i%3==0?scaleBigLength*1.2:scaleBigLength,scaleColor,195-scaleBigLength,0,i*30*Math.PI/180,250,250);</span><br><span class="line">			//可以添加数字刻度</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	function drowHourPoint(p,hour)&#123;</span><br><span class="line">		drowHorizontalLine(p,hourPointWidth,hourPointLength,hourPointColor,-10,0,(hour-3)*30*Math.PI/180,250,250);</span><br><span class="line">	&#125;</span><br><span class="line">	function drowMinPoint(p,min)&#123;</span><br><span class="line">		drowHorizontalLine(p,minPointWidth,minPointLength,minPointColor,-15,0,(min-15)*6*Math.PI/180,250,250);</span><br><span class="line">	&#125;</span><br><span class="line">	function drowSecPoint(p,sec)&#123;</span><br><span class="line">		drowHorizontalLine(p,secPointWidth,secPointLength,secPointColor,-15,0,(sec-15)*6*Math.PI/180,250,250);</span><br><span class="line">	&#125;</span><br><span class="line">	function drowClock()&#123;</span><br><span class="line">		panel.clearRect(0,0,500,500);</span><br><span class="line">		</span><br><span class="line">		panel.fillText(&quot;联系作者 Kerbores@gmail.com&quot;,10,20);</span><br><span class="line">		panel.fillText(&quot;http://kipy.xicp.net&quot;,10,40);</span><br><span class="line">		var date = new Date();</span><br><span class="line">		var sec = date.getSeconds();</span><br><span class="line">		var min = date.getMinutes();</span><br><span class="line">		var hour = date.getHours() + min/60;</span><br><span class="line">		drowCircle(panel,7,&apos;blue&apos;,250,250,200);</span><br><span class="line">		drowScales(panel);</span><br><span class="line">		</span><br><span class="line">		drowHourPoint(panel,hour);</span><br><span class="line">		drowMinPoint(panel,min);</span><br><span class="line">		drowSecPoint(panel,sec);</span><br><span class="line">		</span><br><span class="line">		drowPoint(panel,1,centerColor,250,250,7);</span><br><span class="line">		//drowHorizontalLine(panel,10,10,&apos;red&apos;,-5,0,0,250,250);</span><br><span class="line">	&#125;</span><br><span class="line">	//drowHorizontalLine(panel,7,30,&apos;#F00&apos;,0,0,Math.PI,250,250);</span><br><span class="line">	drowClock();</span><br><span class="line">	setInterval(drowClock,1000);</span><br><span class="line">	function save()&#123;</span><br><span class="line">		var image = clock.toDataURL(&quot;image/png&quot;).replace(&quot;image/png&quot;, &quot;image/octet-stream&quot;); </span><br><span class="line">		location.href=image;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html lang=&quot;en-US&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">	&lt;title&gt;&lt;/title&gt;</span><br><span class="line">	&lt;style&gt;</span><br><span class="line">	 	  body&#123;background: #314B62&#125;</span><br><span class="line">		  canvas&#123;background: #eee;display: block;margin: 30px auto&#125;</span><br><span class="line">	&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;canvas height=&apos;400px&apos; width=&apos;400px&apos; id=&apos;canvas&apos;&gt;&lt;/canvas&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">   var  oCanvas = document.getElementById( &apos;canvas&apos; );</span><br><span class="line">   var cxt = oCanvas.getContext( &apos;2d&apos; );  </span><br><span class="line"></span><br><span class="line">   function Clock()&#123;</span><br><span class="line">      this.date = new Date();</span><br><span class="line">      this.h = this.date.getHours();</span><br><span class="line">      this.m = this.date.getMinutes();</span><br><span class="line">      this.s = this.date.getSeconds();</span><br><span class="line">      this.radius = 150; //半径</span><br><span class="line">      this.drawDial();</span><br><span class="line">      this.drawHours();</span><br><span class="line">      this.drawMinutes();</span><br><span class="line">      this.drawSecond();</span><br><span class="line">    //  this.drawText();</span><br><span class="line">      this.updateTime();</span><br><span class="line">   &#125;;</span><br><span class="line">   Clock.prototype.updateTime = function() &#123;//更新时间</span><br><span class="line">      this.date = new Date();</span><br><span class="line">      this.h = this.date.getHours();</span><br><span class="line">      this.m = this.date.getMinutes();</span><br><span class="line">      this.s = this.date.getSeconds();</span><br><span class="line">      cxt.clearRect(0,0,400,400)</span><br><span class="line">     </span><br><span class="line">      this.drawDial();</span><br><span class="line">      this.drawHours();</span><br><span class="line">      this.drawMinutes();</span><br><span class="line">      this.drawSecond();</span><br><span class="line">     // this.drawText();</span><br><span class="line">      var self = this;</span><br><span class="line">      setTimeout(function()&#123;</span><br><span class="line">           self.updateTime();</span><br><span class="line">      &#125;,1000);</span><br><span class="line">   &#125;;</span><br><span class="line">   Clock.prototype.drawText = function() &#123;//写入文字</span><br><span class="line">       cxt.fillStyle=&quot;#000&quot;;</span><br><span class="line">       cxt.font=&quot;16px Microsoft YaHei&quot;;</span><br><span class="line">       cxt.textBaseline=&quot;middle&quot;;</span><br><span class="line">       cxt.fillText(&quot;author:涛涛&quot;,200,270);</span><br><span class="line">   &#125;;</span><br><span class="line">   Clock.prototype.drawDial =  function() &#123; //画表盘</span><br><span class="line">      cxt.fillStyle = &apos;#E3E0E0&apos;;</span><br><span class="line">      cxt.beginPath();</span><br><span class="line">      cxt.lineWidth = 3;</span><br><span class="line">      cxt.lineCap = &quot;round&quot;; </span><br><span class="line">      cxt.arc( 200, 200, this.radius, 0, Math.PI*2, false);</span><br><span class="line">      cxt.shadowColor = &quot;#526A89&quot;;</span><br><span class="line">      cxt.shadowOffsetX = 2;   //在X轴上偏移</span><br><span class="line">      cxt.shadowOffsetY = 2;   //在Y轴上偏移</span><br><span class="line">      </span><br><span class="line">      cxt.shadowBlur = 4;    //高斯模糊  </span><br><span class="line">      cxt.closePath();</span><br><span class="line">      cxt.fill();</span><br><span class="line">      cxt.strokeStyle = &apos;#313136&apos;;</span><br><span class="line">      cxt.stroke();</span><br><span class="line">      </span><br><span class="line">      cxt.fillStyle=&quot;#3E3B3B&quot;;  //设置文字</span><br><span class="line">      cxt.font=&quot;13px Arial&quot;;</span><br><span class="line">      cxt.textBaseline=&quot;middle&quot;;</span><br><span class="line">      cxt.textAlign=&apos;center&apos;;</span><br><span class="line"></span><br><span class="line">      for( var i = 0; i &lt; 60; i++ ) &#123;</span><br><span class="line">           if( i%5 == 0 )&#123; //画表盘时钟刻度</span><br><span class="line">                 cxt.beginPath();</span><br><span class="line">                  cxt.lineWidth = 2;</span><br><span class="line">                 cxt.moveTo( this.getPos(12,i,this.radius)[0], this.getPos(12,i,this.radius)[1] );</span><br><span class="line">                 cxt.lineTo( this.getPos(12,i,this.radius-14)[0], this.getPos(12,i,this.radius-14)[1] );</span><br><span class="line">                 cxt.stroke();</span><br><span class="line">                 cxt.fillText( i/5 == 0 ? 12 : i/5, this.getPos(12,i/5,this.radius-28)[0], this.getPos(12,i/5,this.radius-28)[1] );</span><br><span class="line">           &#125;else&#123;  //画表盘秒钟刻度</span><br><span class="line">                 var point1 = this.getPos( 60, i, this.radius );</span><br><span class="line">                 var point2 = this.getPos( 60, i, this.radius-8 );</span><br><span class="line">                 cxt.beginPath();</span><br><span class="line">                 cxt.lineCap = &apos;square&apos;;</span><br><span class="line">                 cxt.moveTo( point1[0], point1[1] );</span><br><span class="line">                 cxt.lineTo( point2[0], point2[1] );</span><br><span class="line">                 cxt.stroke();</span><br><span class="line">           &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">   &#125;;</span><br><span class="line">   Clock.prototype.getPos = function( n, i, l ) &#123; //n 个数 i 索引, l 长度(取反)</span><br><span class="line">         var hd =  Math.PI/180 * 360/n * i;</span><br><span class="line">         var x = 200 + Math.sin( hd ) * l;</span><br><span class="line">         var y = 200- Math.cos( hd ) * l; </span><br><span class="line">         return [x,y];</span><br><span class="line">   &#125;;</span><br><span class="line">   Clock.prototype.drawHours = function() &#123;//画时钟</span><br><span class="line">         var pos = this.getPos( 12, this.h, 35 );</span><br><span class="line"></span><br><span class="line">         cxt.lineCap = &quot;round&quot;; </span><br><span class="line">         cxt.lineWidth = 2 ;</span><br><span class="line">         cxt.moveTo( 200, 200 );</span><br><span class="line">         cxt.lineTo( pos[0], pos[1] );</span><br><span class="line">         cxt.stroke();</span><br><span class="line">   &#125;;</span><br><span class="line">   Clock.prototype.drawMinutes  = function() &#123;//画分钟</span><br><span class="line">         var pos = this.getPos( 60, this.m, 65);</span><br><span class="line"></span><br><span class="line">         cxt.lineWidth = 2;</span><br><span class="line">         cxt.moveTo( 200, 200 );</span><br><span class="line">         cxt.lineTo( pos[0], pos[1] );</span><br><span class="line">         cxt.stroke();</span><br><span class="line">   &#125;;</span><br><span class="line">   Clock.prototype.drawSecond = function() &#123;//画秒钟</span><br><span class="line">         var pos = this.getPos( 60, this.s, 95);</span><br><span class="line">         cxt.moveTo( 200, 200 );</span><br><span class="line">         cxt.lineTo( pos[0], pos[1] );</span><br><span class="line">         cxt.stroke();</span><br><span class="line">   &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   var taotao = new Clock();</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
    </div>
    
    <footer >
        
            
    
    <div class="categories">
        所属目录：
    <a href="/categories/技术/">技术</a>
    </div>

            
    
    <div class="tags-row">
        标签：<a class="btn btn-info" href="/tags/clock/">clock</a>
    </div>

        
        <div class="clearfix"></div>
    </footer>
</article>



<section class="comment">
	
		<!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"lipeishen"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Duoshuo Comment END -->
	
</section>


        </div>
    </div>
    <footer id="page-footer"><div class="footer-content">
    <div class="container-center">
        <div class="footer-text pull-left">
            <div class="copyright">
                
                Copyright &copy; 2016 <a href="/">李培申</a>
                
            </div>
            <div class="theme-copyright">
                <span>Blog powered by <a href="http://zespia.tw/hexo/zh-CN/">hexo</a></span>
                Theme <a href="https://github.com/raytaylorlin/hexo-theme-raytaylorism">raytaylorism</a> desgined by <strong>Nix</strong>
            </div>
        </div>
        <div class="social-group pull-right">
            
            <a href="https://github.com/lipeishen" target="_blank" title="github"><i class="icon-github"></i></a>
            
            
            <a href="http://weibo.com/2489062212" target="_blank" title="新浪微博"><i class="icon-weibo"></i></a>
            
            
            <a href="http://www.renren.com/275401015" target="_blank" title="人人网"><i class="icon-renren"></i></a>
            
            
            <a href="https://plus.google.com/u/0/" target="_blank" title="Google+"><i class="icon-google-plus-sign"></i></a>
            
        </div>
        <div class="clearfix"></div>
    </div>
</div>
</footer>
    
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-43460643-1', 'raytaylorlin.com');
    ga('send', 'pageview');

</script>


<script src="/js/prettify.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $("pre").addClass("prettyprint");
        prettyPrint();
    });
</script>

<script>
    (function($) {
        //当内容区内容不够长时，设置内容区域的高度使footer沉底
        var resizeContentWrapper = function() {
            //HACK: 用延时的方法使计算高度时候更加准确，会有一闪的情况
            setTimeout(function() {
                var contentHeight = Math.floor($('#content-wrapper .container-center').height()),
                headerHeight = Math.floor($('#page-header').height()),
                footerHeight = Math.floor($('#page-footer').height()),
                minHeight = Math.floor($(window).height() - headerHeight - footerHeight);
                if(contentHeight < minHeight) {
                    $('#content-wrapper').css({height: minHeight});                    
                } else {
                    $('#content-wrapper').css({height: 'auto'});
                }
            },500);
        };

        //响应式侧边栏
        var initJPanelMenu = function() {
            var jPM = $.jPanelMenu({
                menu: '#jPanelMenu-menu-side',
                duration: 500
            });
            jPM.on();
        };

        //初始化目录按钮事件绑定
        var initCategory = function() {
            function showMainMenu() {
                var $jPanelMenu = $('#jPanelMenu-menu');
                $jPanelMenu.find('ul.category-menu').hide();
                $jPanelMenu.find('ul.main-menu').fadeIn();
            }

            function showCategoryMenu() {
                var $jPanelMenu = $('#jPanelMenu-menu');
                $jPanelMenu.find('ul.main-menu').hide();
                $jPanelMenu.find('ul.category-menu').fadeIn();
            }

            $('.menu-category').click(function() {
                var jPM = $.jPanelMenu({
                    duration: 500,
                    beforeOpen: function() {
                        showCategoryMenu();
                    },
                    afterClose: function() {
                        showMainMenu();
                    }
                });
                if(jPM.isOpen()) {
                    showCategoryMenu();
                } else {
                    jPM.open();
                }
            });

            $('.category-menu').on('click', '.btn-back', function() {
                showMainMenu();
            });
        };

        $(document).ready(resizeContentWrapper);
        $(document).ready(initJPanelMenu);
        $(document).ready(initCategory);
        
        $(window).resize(resizeContentWrapper);
    })(jQuery);
</script>
</body>
</html>