
title: First access to R 
date: 2014-05-23 19:51:32
tags: R-Language
language: ch
categories: R-Language
---
<!--more-->
### R语言的获取
R可以在CRAN（Comprehensive R Archive Network） http://cran.r-project.org
上免费下载。Linux、Mac OS X和Windows都有相应编译好的二进制版本。R是一种区分大小写的解释型语言。你可以在命令提示符（>）后每次输入并执行一条命令，或者一次性执行写在脚本文件中的一组命令。R中有多种数据类型，包括向量、矩阵、数据框（与数据集类似）以及列表（各种对象的集合）。

R语句由函数和赋值构成。R使用 <-，而不是传统的 = 作为赋值符号。例如，以下语句：
```x<- rnorm(5)```
创建了一个名为x的向量对象，它包含5个来自标准正态分布的随机偏差。R语言中，使用等号赋值的语句并不常见，但是也不错。注释由# 开头。

### 实例

若想大致了解R能够作出何种图形，在命令行中运行demo(graphics)即可。生成的部分图形如图1-5 所示。其他的演示还有demo(Hershey) 、demo(persp) 和demo(image)。要看到完整的演示列表，不加参数直接运行demo()即可。

![1](/img/r1.jpg)

  工作空间（workspace）就是当前R的工作环境，它储存着所有用户定义的对象（向量、矩阵、函数、数据框、列表）。在一个R会话结束时，你可以将当前工作空间保存到一个镜像中， 并在下次启动R时自动载入它。各种命令可在R命令行中交互式地输入。使用上下方向键查看已输入命令的历史记录。这样我们就可以选择一个之前输入过的命令并适当修改，
   最后按回车重新执行它。当前的工作目录（working directory）是R用来读取文件和保存结果的默认目录。我们可以使用函数getwd()来查看当前的工作目录，或使用函数setwd()设定当前的工作目录。如果需要读入一个不在当前工作目录下的文件，则需在调用语句中写明完整的路径。记得使用引号闭合这些目录名和文件名。
  
 ![2](/img/r2.jpg) 
 
### 输入和输出
启动R后将默认开始一个交互式的会话，从键盘接受输入并从屏幕进行输出。不过你也可以
处理写在一个脚本文件（一个包含了R语句的文件）中的命令集并直接将结果输出到多类目标中。
####1. 输入
函数source("filename")可在当前会话中执行一个脚本。如果文件名中不包含路径，R将
假设此脚本在当前工作目录中。举例来说，source("myscript.R")将执行包含在文件
myscript.R中的R语句集合。依照惯例，脚本文件以.R作为扩展名，不过这并不是必需的。
####2. 文本输出
函数sink("filename")将输出重定向到文件filename中。默认情况下，如果文件已经存
在，则它的内容将被覆盖。使用参数append=TRUE可以将文本追加到文件后，而不是覆盖它。
参数split=TRUE可将输出同时发送到屏幕和输出文件中。不加参数调用命令sink()将仅向屏幕
返回输出结果。
####3. 图形输出
虽然sink()可以重定向文本输出，但它对图形输出没有影响。要重定向图形输出，使用
表1-4中列出的函数即可。最后使用dev.off()将输出返回到终端。

 ![3](/img/r3.jpg) 
 
 让我们通过一个示例来了解整个流程。假设我们有包含R代码的三个脚本文件script1.R、
script2.R和script3.R。

 ![6](/img/r6.jpg) 
 
### 包的使用方法
载入一个包之后，就可以使用一系列新的函数和数据集了。包中往往提供了演示性的小型数
据集和示例代码，能够让我们尝试这些新功能。帮助系统包含了每个函数的一个描述（同时带有
示例），每个数据集的信息也被包括其中。命令help(package="package_name")可以输出某
个包的简短描述以及包中的函数名称和数据集名称的列表。使用函数help()可以查看其中任意
函数或数据集的更多细节。这些信息也能以PDF帮助手册的形式从CRAN下载。

 ![4](/img/r4.jpg) 